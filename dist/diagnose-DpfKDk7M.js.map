{"version":3,"file":"diagnose-DpfKDk7M.js","sources":["../src/infrastructure/diagnose.ts"],"sourcesContent":["/**\n * Diagnose - ËØäÊñ≠ËÑöÊú¨\n * Áî®‰∫éÂÆö‰Ωç‰∏ªÈ¢òËâ≤Â§±ÊïàÁ≠âÈóÆÈ¢òÁöÑÊ†πÊ∫ê\n */\n\nimport { Logger } from './logger';\n\nexport function runDiagnostics() {\n    console.group('üîç Engram Diagnostics');\n\n    // 1. Ê£ÄÊü•Ê†∑ÂºèË°®Ê≥®ÂÖ•\n    const linkTag = document.getElementById('engram-styles');\n    if (linkTag) {\n        Logger.info('Diagnostics', '‚úÖ Ê†∑ÂºèË°® link Ê†áÁ≠æÂ≠òÂú®', { href: (linkTag as HTMLLinkElement).href });\n    } else {\n        Logger.error('Diagnostics', '‚ùå Ê†∑ÂºèË°® link Ê†áÁ≠æ‰∏¢Â§±');\n    }\n\n    // 2. Ê£ÄÊü• CSS ÂèòÈáè (Root)\n    const rootStyles = getComputedStyle(document.documentElement);\n    const bgVar = rootStyles.getPropertyValue('--background').trim();\n    const primaryVar = rootStyles.getPropertyValue('--primary').trim();\n\n    if (bgVar) {\n        Logger.info('Diagnostics', '‚úÖ Root CSSÂèòÈáèÂ≠òÂú®', {\n            '--background': bgVar,\n            '--primary': primaryVar\n        });\n    } else {\n        Logger.error('Diagnostics', '‚ùå Root CSSÂèòÈáèÊú™ÂÆö‰πâÊàñ‰∏∫Á©∫');\n    }\n\n    // 3. Ê£ÄÊü• Context Wrapper\n    const panelRoot = document.getElementById('engram-panel-root');\n    if (panelRoot) {\n        const computed = getComputedStyle(panelRoot);\n        const bgColor = computed.backgroundColor;\n        const color = computed.color;\n\n        Logger.info('Diagnostics', 'üé® Panel Ê†∑ÂºèËÆ°ÁÆóÂÄº', {\n            'backgroundColor': bgColor,\n            'color': color,\n            'classes': panelRoot.className\n        });\n\n        // Ê£ÄÊü•ÊòØÂê¶Â∫îÁî®‰∫Ü Tailwind Á±ª\n        if (panelRoot.classList.contains('bg-background')) {\n            if (bgColor === 'rgba(0, 0, 0, 0)' || bgColor === 'transparent') {\n                Logger.error('Diagnostics', '‚ùå bg-background Á±ªÂ≠òÂú®‰ΩÜËÉåÊôØÈÄèÊòé (ÂèòÈáèÂ§±Êïà)');\n            } else {\n                Logger.success('Diagnostics', '‚úÖ bg-background ÁîüÊïà');\n            }\n        }\n    } else {\n        Logger.warn('Diagnostics', '‚ö†Ô∏è Êâæ‰∏çÂà∞ #engram-panel-root Èù¢ÊùøÂÖÉÁ¥†');\n    }\n\n    // 4. ËøôÈáåÁöÑÊµãËØïÊòØ‰∏∫‰∫ÜÈ™åËØÅ color-mix ÊòØÂê¶Ë¢´ÊµèËßàÂô®ÊîØÊåÅ‰ª•Âèä tailwindÁîüÊàêÁöÑÈ¢úËâ≤ÊòØÂê¶ÊúâÊïà\n    const testEl = document.createElement('div');\n    testEl.style.display = 'none';\n    testEl.className = 'bg-primary/50 text-primary-foreground';\n    document.body.appendChild(testEl);\n\n    // Áªô‰∏ÄÁÇπÊó∂Èó¥ËÆ©ÊµèËßàÂô®Ê∏≤ÊüìÔºàËôΩÁÑ∂ display none ÂèØËÉΩ‰∏ç‰ºöËß¶ÂèëÈáçÁªòÔºå‰ΩÜ computed style Â∫îËØ•ËÉΩÁÆóÂá∫Êù•Ôºâ\n    requestAnimationFrame(() => {\n        const testComputed = getComputedStyle(testEl);\n        Logger.info('Diagnostics', 'üß™ Tailwind Ê∑∑ÂêàËâ≤ÊµãËØï (bg-primary/50)', {\n            'computedBg': testComputed.backgroundColor // Â∫îËØ•ÊòØ rgba(...)\n        });\n        document.body.removeChild(testEl);\n    });\n\n    console.groupEnd();\n}\n"],"names":["runDiagnostics","linkTag","Logger","rootStyles","bgVar","primaryVar","panelRoot","computed","bgColor","color","testEl","testComputed"],"mappings":";AAOO,SAASA,IAAiB;AAC7B,UAAQ,MAAM,uBAAuB;AAGrC,QAAMC,IAAU,SAAS,eAAe,eAAe;AACvD,EAAIA,IACAC,EAAO,KAAK,eAAe,mBAAmB,EAAE,MAAOD,EAA4B,MAAM,IAEzFC,EAAO,MAAM,eAAe,iBAAiB;AAIjD,QAAMC,IAAa,iBAAiB,SAAS,eAAe,GACtDC,IAAQD,EAAW,iBAAiB,cAAc,EAAE,KAAA,GACpDE,IAAaF,EAAW,iBAAiB,WAAW,EAAE,KAAA;AAE5D,EAAIC,IACAF,EAAO,KAAK,eAAe,kBAAkB;AAAA,IACzC,gBAAgBE;AAAA,IAChB,aAAaC;AAAA,EAAA,CAChB,IAEDH,EAAO,MAAM,eAAe,oBAAoB;AAIpD,QAAMI,IAAY,SAAS,eAAe,mBAAmB;AAC7D,MAAIA,GAAW;AACX,UAAMC,IAAW,iBAAiBD,CAAS,GACrCE,IAAUD,EAAS,iBACnBE,IAAQF,EAAS;AAEvB,IAAAL,EAAO,KAAK,eAAe,kBAAkB;AAAA,MACzC,iBAAmBM;AAAA,MACnB,OAASC;AAAA,MACT,SAAWH,EAAU;AAAA,IAAA,CACxB,GAGGA,EAAU,UAAU,SAAS,eAAe,MACxCE,MAAY,sBAAsBA,MAAY,gBAC9CN,EAAO,MAAM,eAAe,iCAAiC,IAE7DA,EAAO,QAAQ,eAAe,oBAAoB;AAAA,EAG9D;AACI,IAAAA,EAAO,KAAK,eAAe,gCAAgC;AAI/D,QAAMQ,IAAS,SAAS,cAAc,KAAK;AAC3C,EAAAA,EAAO,MAAM,UAAU,QACvBA,EAAO,YAAY,yCACnB,SAAS,KAAK,YAAYA,CAAM,GAGhC,sBAAsB,MAAM;AACxB,UAAMC,IAAe,iBAAiBD,CAAM;AAC5C,IAAAR,EAAO,KAAK,eAAe,qCAAqC;AAAA,MAC5D,YAAcS,EAAa;AAAA;AAAA,IAAA,CAC9B,GACD,SAAS,KAAK,YAAYD,CAAM;AAAA,EACpC,CAAC,GAED,QAAQ,SAAA;AACZ;"}